"use strict";(self.webpackChunkmue=self.webpackChunkmue||[]).push([[370],{359:function(e,t,a){a.d(t,{N9:function(){return r},Tz:function(){return i},j3:function(){return s}});var o=a(8515);function n(){document.querySelector(".reminder-info").style.display="block",localStorage.setItem("showReminder",!0)}function s(e){return e.replace(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&//=]*)/,'<a href="$&" target="_blank">$&</a>')}function r(e,t,a){switch(e){case"settings":localStorage.removeItem("backup_settings");var s=[];Object.keys(localStorage).forEach((function(e){s.push({name:e,value:localStorage.getItem(e)})})),localStorage.setItem("backup_settings",JSON.stringify(s)),Object.keys(t.settings).forEach((function(e){localStorage.setItem(e,t.settings[e])})),n();break;case"photos":localStorage.setItem("photo_packs",JSON.stringify(t.photos)),localStorage.setItem("oldBackgroundType",localStorage.getItem("backgroundType")),localStorage.setItem("backgroundType","photo_pack"),o.Z.dispatch("refresh","background");break;case"quotes":t.quote_api&&localStorage.setItem("quoteAPI",JSON.stringify(t.quote_api)),localStorage.setItem("quote_packs",JSON.stringify(t.quotes)),localStorage.setItem("oldQuoteType",localStorage.getItem("quoteType")),localStorage.setItem("quoteType","quote_pack"),o.Z.dispatch("refresh","quote")}var r=JSON.parse(localStorage.getItem("installed"));a?r.push({content:{updated:"Unpublished",data:t}}):r.push(t),localStorage.setItem("installed",JSON.stringify(r))}function i(e,t){switch(e){case"settings":var a=JSON.parse(localStorage.getItem("backup_settings"));localStorage.clear(),a.forEach((function(e){localStorage.setItem(e.name,e.value)})),n();break;case"quotes":localStorage.removeItem("quote_packs"),localStorage.removeItem("quoteAPI"),localStorage.setItem("quoteType",localStorage.getItem("oldQuoteType")),localStorage.removeItem("oldQuoteType"),o.Z.dispatch("refresh","marketplacequoteuninstall");break;case"photos":localStorage.removeItem("photo_packs"),localStorage.setItem("backgroundType",localStorage.getItem("oldBackgroundType")),localStorage.removeItem("oldBackgroundType"),o.Z.dispatch("refresh","marketplacebackgrounduninstall")}for(var s=JSON.parse(localStorage.getItem("installed")),r=0;r<s.length;r++)if(s[r].name===t){s.splice(r,1);break}localStorage.setItem("installed",JSON.stringify(s))}},4761:function(e,t,a){a.d(t,{Z:function(){return I}});var o,n,s,r,i,l,d,u,c,m=a(857),p=a(7061),h=a(9900),g=a(4269),v=a(4593),f=a(886),Z=a(9660),b=a(9526),y=a(5678),k=a(4052),M=a(4823),S=a.n(M),N=a(359),_=a(155);var I=function(e){(0,g.Z)(I,e);var t,a,M=(t=I,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,f.Z)(t);if(a){var n=(0,f.Z)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,v.Z)(this,e)});function I(e){var t;return(0,p.Z)(this,I),(t=M.call(this,e)).state={showLightbox:!1,showUpdateButton:!0===t.props.addonInstalled&&t.props.addonInstalledVersion!==t.props.data.version},t}return(0,h.Z)(I,[{key:"updateAddon",value:function(){(0,N.Tz)(this.props.data.type,this.props.data.display_name),(0,N.N9)(this.props.data.type,this.props.data),(0,y.Am)(Z.Z.language.getMessage(Z.Z.languagecode,"toasts.updated")),this.setState({showUpdateButton:!1})}},{key:"render",value:function(){var e,t=this,a=function(e){return Z.Z.language.getMessage(Z.Z.languagecode,e)};if(!this.props.data.display_name)return null;this.props.data.quote_api&&(e=(0,m.Z)("div",{className:"productInformation"},void 0,(0,m.Z)("ul",{},void 0,(0,m.Z)("li",{className:"header"},void 0,a("modals.main.marketplace.product.quote_warning.title")),(0,m.Z)("li",{id:"updated"},void 0,a("modals.main.marketplace.product.quote_warning.description")))));var p,h=Z.Z.constants.DDG_IMAGE_PROXY+this.props.data.icon;return this.props.data.icon||(h=null),this.state.showUpdateButton&&(p=(0,m.Z)(b.Fragment,{},"update",o||(o=(0,m.Z)("br",{})),n||(n=(0,m.Z)("br",{})),(0,m.Z)("button",{className:"removeFromMue",onClick:function(){return t.updateAddon()}},void 0,a("modals.main.addons.product.buttons.update_addon")))),(0,m.Z)("div",{id:"item"},void 0,s||(s=(0,m.Z)("br",{})),(0,m.Z)(k.KYK,{className:"backArrow",onClick:this.props.toggleFunction}),r||(r=(0,m.Z)("br",{})),(0,m.Z)("h1",{},void 0,this.props.data.display_name),this.props.button,p,i||(i=(0,m.Z)("br",{})),l||(l=(0,m.Z)("br",{})),h?(0,m.Z)("img",{alt:"product",draggable:"false",src:h,onClick:function(){return t.setState({showLightbox:!0})}}):null,(0,m.Z)("div",{className:"side"},void 0,(0,m.Z)("div",{className:"productInformation"},void 0,(0,m.Z)("ul",{},void 0,(0,m.Z)("li",{className:"header"},void 0,a("modals.main.marketplace.product.version")),p?(0,m.Z)("li",{},void 0,this.props.data.version," (Installed: ",this.props.data.addonInstalledVersion,")"):(0,m.Z)("li",{},void 0,this.props.data.version),d||(d=(0,m.Z)("br",{})),(0,m.Z)("li",{className:"header"},void 0,a("modals.main.marketplace.product.author")),(0,m.Z)("li",{},void 0,this.props.data.author))),u||(u=(0,m.Z)("br",{})),e),c||(c=(0,m.Z)("div",{className:"sidebr"},void 0,(0,m.Z)("br",{}),(0,m.Z)("br",{}))),(0,m.Z)("div",{className:"informationContainer"},void 0,(0,m.Z)("h1",{className:"overview"},void 0,a("modals.main.marketplace.product.overview")),(0,m.Z)("p",{className:"description",dangerouslySetInnerHTML:{__html:this.props.data.description}})),(0,m.Z)(S(),{closeTimeoutMS:100,onRequestClose:function(){return t.setState({showLightbox:!1})},isOpen:this.state.showLightbox,className:"Modal lightboxmodal",overlayClassName:"Overlay resetoverlay",ariaHideApp:!1},void 0,(0,m.Z)(_.Z,{modalClose:function(){return t.setState({showLightbox:!1})},img:h})))}}]),I}(b.PureComponent)},2098:function(e,t,a){a.d(t,{Z:function(){return s}});var o=a(857),n=a(9660);function s(e){var t=e.items,a=e.toggleFunction;return(0,o.Z)("div",{className:"items"},void 0,t.map((function(e){return(0,o.Z)("div",{className:"item",onClick:function(){return a(e.name)}},e.name,(0,o.Z)("img",{alt:"icon",draggable:"false",src:n.Z.constants.DDG_IMAGE_PROXY+e.icon_url}),(0,o.Z)("div",{className:"details"},void 0,(0,o.Z)("h4",{},void 0,e.display_name||e.name),(0,o.Z)("p",{},void 0,e.author)))})))}},155:function(e,t,a){a.d(t,{Z:function(){return r}});var o=a(857),n=a(9660),s=a(7557);function r(e){var t=e.modalClose,a=e.img;return n.Z.stats.postEvent("modal","Opened lightbox"),(0,s.jsxs)(s.Fragment,{children:[(0,o.Z)("span",{className:"closeModal",onClick:t},void 0,"×"),(0,o.Z)("img",{src:a,className:"lightboximg",draggable:!1,alt:"Item screenshot"})]})}},6414:function(e,t,a){a.d(t,{Z:function(){return b}});var o=a(857),n=a(7061),s=a(9900),r=a(4771),i=a(4269),l=a(4593),d=a(886),u=a(240),c=a(9660),m=a(9526),p=a(5267),h=a(8358),g=a(9936),v=a(7784),f=a(8515),Z=a(7557);var b=function(e){(0,i.Z)(y,e);var t,a,b=(t=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,d.Z)(t);if(a){var n=(0,d.Z)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,l.Z)(this,e)});function y(e){var t;return(0,n.Z)(this,y),t=b.call(this,e),(0,u.Z)((0,r.Z)(t),"onChange",(function(e){var a=e.target.value;if(a!==c.Z.language.getMessage(c.Z.languagecode,"modals.main.loading")){if(c.Z.stats.postEvent("setting","".concat(t.props.name," from ").concat(t.state.value," to ").concat(a)),t.setState({value:a}),t.props.noSetting||localStorage.setItem(t.props.name,a),t.props.onChange&&t.props.onChange(a),t.props.element&&!document.querySelector(t.props.element))return document.querySelector(".reminder-info").style.display="block",localStorage.setItem("showReminder",!0);f.Z.dispatch("refresh",t.props.category)}})),t.state={value:localStorage.getItem(t.props.name)||t.props.children[0].props.value,title:""},t.dropdown=(0,m.createRef)(),t}return(0,s.Z)(y,[{key:"render",value:function(){var e="dropdown"+this.props.name,t=this.props.label||"";return(0,o.Z)(p.Z,{fullWidth:!0,className:e},void 0,(0,o.Z)(h.Z,{id:e},void 0,t),(0,Z.jsx)(g.Z,{labelId:e,id:this.props.name,value:this.state.value,label:t,onChange:this.onChange,ref:this.dropdown,children:this.props.manual?this.props.children:this.props.children.map((function(e,t){return e?(0,o.Z)(v.Z,{value:e.props?e.props.value:""},t,e.props?e.props.children:""):null}))},e))}}]),y}(m.PureComponent)},370:function(e,t,a){a.r(t),a.d(t,{default:function(){return ne}});var o,n,s=a(857),r=a(9660),i=a(9027),l=a(3755),d=a(7061),u=a(9900),c=a(4771),m=a(4269),p=a(4593),h=a(886),g=a(240),v=a(8047),f=a.n(v),Z=a(9526),b=a(4052),y=a(5678),k=a(4761),M=a(2098),S=a(6414),N=a(359),_=a(7557);var I,x,w,T=function(e){(0,m.Z)(v,e);var t,a,i=(t=v,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,h.Z)(t);if(a){var n=(0,h.Z)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,p.Z)(this,e)});function v(){var e;return(0,d.Z)(this,v),e=i.call(this),(0,g.Z)((0,c.Z)(e),"getMessage",(function(e){return r.Z.language.getMessage(r.Z.languagecode,e)})),e.state={installed:JSON.parse(localStorage.getItem("installed")),item:{},button:""},e.buttons={uninstall:(0,s.Z)("button",{className:"removeFromMue",onClick:function(){return e.uninstall()}},void 0,e.getMessage("modals.main.marketplace.product.buttons.remove"))},e}return(0,u.Z)(v,[{key:"toggle",value:function(e,t){if("item"===e){var a=JSON.parse(localStorage.getItem("installed")).find((function(e){return e.name===t}));this.setState({item:{type:a.type,name:t,display_name:a.name,author:a.author,description:(0,N.j3)(a.description.replace(/\n/g,"<br>")),version:a.version,icon:a.screenshot_url,quote_api:a.quote_api||null},button:this.buttons.uninstall}),r.Z.stats.postEvent("marketplace","Item viewed")}else this.setState({item:{}})}},{key:"uninstall",value:function(){(0,N.Tz)(this.state.item.type,this.state.item.display_name),(0,y.Am)(this.getMessage("toasts.uninstalled")),this.setState({button:"",installed:JSON.parse(localStorage.getItem("installed"))}),r.Z.stats.postEvent("marketplace","Uninstall")}},{key:"sortAddons",value:function(e,t){var a=JSON.parse(localStorage.getItem("installed"));switch(e){case"newest":a.reverse();break;case"oldest":default:break;case"a-z":a.sort();break;case"z-a":a.sort(),a.reverse()}this.setState({installed:a}),t&&r.Z.stats.postEvent("marketplace","Sort")}},{key:"updateCheck",value:function(){var e=0;this.state.installed.forEach(function(){var t=(0,l.Z)(f().mark((function t(a){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(r.Z.constants.MARKETPLACE_URL+"/item/"+a.name);case 2:return t.next=4,t.sent.json();case 4:t.sent.version!==a.version&&e++;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e>0?(0,y.Am)(this.getMessage("modals.main.addons.updates_available",{amount:e})):(0,y.Am)(this.getMessage("modals.main.addons.no_updates"))}},{key:"componentDidMount",value:function(){this.sortAddons(localStorage.getItem("sortAddons"),!1)}},{key:"render",value:function(){var e=this;return 0===this.state.installed.length?(0,s.Z)("div",{className:"emptyitems"},void 0,(0,s.Z)("div",{className:"emptyMessage"},void 0,o||(o=(0,s.Z)(b.YD2,{})),(0,s.Z)("h1",{},void 0,this.getMessage("modals.main.addons.empty.title")),(0,s.Z)("p",{className:"description"},void 0,this.getMessage("modals.main.addons.empty.description")))):this.state.item.display_name?(0,s.Z)(k.Z,{data:this.state.item,button:this.state.button,toggleFunction:function(){return e.toggle()}}):(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)(S.Z,{label:this.getMessage("modals.main.addons.sort.title"),name:"sortAddons",onChange:function(t){return e.sortAddons(t)}},void 0,(0,s.Z)("option",{value:"newest"},void 0,this.getMessage("modals.main.addons.sort.newest")),(0,s.Z)("option",{value:"oldest"},void 0,this.getMessage("modals.main.addons.sort.oldest")),(0,s.Z)("option",{value:"a-z"},void 0,this.getMessage("modals.main.addons.sort.a_z")),(0,s.Z)("option",{value:"z-a"},void 0,this.getMessage("modals.main.addons.sort.z_a"))),(0,s.Z)("button",{className:"addToMue sideload updateCheck",onClick:function(){return e.updateCheck()}},void 0,this.getMessage("modals.main.addons.check_updates")),n||(n=(0,s.Z)("br",{})),(0,s.Z)(M.Z,{items:this.state.installed,toggleFunction:function(t){return e.toggle("item",t)}})]})}}]),v}(Z.PureComponent),q=a(4823),C=a.n(q);function R(e){var t=e.modalClose,a=e.reason,o=function(e){return r.Z.language.getMessage(r.Z.languagecode,e)};return(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)("h1",{},void 0,o("modals.main.error_boundary.title")),(0,s.Z)("span",{},void 0,o("modals.main.addons.sideload.failed")),I||(I=(0,s.Z)("br",{})),x||(x=(0,s.Z)("br",{})),(0,s.Z)("span",{},void 0,a),(0,s.Z)("div",{className:"resetfooter"},void 0,(0,s.Z)("button",{className:"round import",style:{marginLeft:"-30px"},onClick:t},void 0,w||(w=(0,s.Z)(b.FU5,{}))))]})}var P,F=a(9469);var A,j,O,D,z,B,L,E,J,Q,H,W,$,K,U,V,G=function(e){(0,m.Z)(n,e);var t,a,o=(t=n,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,h.Z)(t);if(a){var n=(0,h.Z)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,p.Z)(this,e)});function n(e){var t;return(0,d.Z)(this,n),t=o.call(this,e),(0,g.Z)((0,c.Z)(t),"getMessage",(function(e){return r.Z.language.getMessage(r.Z.languagecode,e)})),t.state={showFailed:!1,failedReason:""},t}return(0,u.Z)(n,[{key:"installAddon",value:function(e){var t="";if(e.name?e.author?e.type?e.version?"photos"!==e.type||e.photos&&e.photos.length&&e.photos[0].url&&e.photos[0].url.default&&e.photos[0].photographer&&e.photos[0].location?"quotes"!==e.type||e.quotes&&e.quotes.length&&e.quotes[0].quote&&e.quotes[0].author||(t=this.getMessage("modals.main.addons.sideload.errors.invalid_quotes")):t=this.getMessage("modals.main.addons.sideload.errors.invalid_photos"):t=this.getMessage("modals.main.addons.sideload.errors.no_version"):t=this.getMessage("modals.main.addons.sideload.errors.no_type"):t=this.getMessage("modals.main.addons.sideload.errors.no_author"):t=this.getMessage("modals.main.addons.sideload.errors.no_name"),""!==t)return this.setState({failedReason:t,showFailed:!0});(0,N.N9)(e.type,e),(0,y.Am)(this.getMessage("toasts.installed")),r.Z.stats.postEvent("marketplace","Sideload")}},{key:"render",value:function(){var e=this;return(0,s.Z)("div",{className:"emptyitems"},void 0,(0,s.Z)("div",{className:"emptyMessage"},void 0,(0,s.Z)(F.Z,{id:"file-input",type:"settings",accept:"application/json",loadFunction:function(t){return e.installAddon(JSON.parse(t.target.result))}}),P||(P=(0,s.Z)(b.XFz,{})),(0,s.Z)("h1",{},void 0,this.getMessage("modals.main.addons.sideload.title")),(0,s.Z)("button",{className:"addToMue sideload",onClick:function(){return document.getElementById("file-input").click()}},void 0,this.getMessage("modals.main.settings.sections.background.source.upload"))),(0,s.Z)(C(),{closeTimeoutMS:100,onRequestClose:function(){return e.setState({showFailed:!1})},isOpen:this.state.showFailed,className:"Modal resetmodal mainModal sideloadModal",overlayClassName:"Overlay resetoverlay",ariaHideApp:!1},void 0,(0,s.Z)(R,{modalClose:function(){return e.setState({showFailed:!1})},reason:this.state.failedReason})))}}]),n}(Z.PureComponent),X=a(3121),Y=a(9647);var ee,te,ae,oe=function(e){(0,m.Z)(n,e);var t,a,o=(t=n,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,h.Z)(t);if(a){var n=(0,h.Z)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,p.Z)(this,e)});function n(){var e;return(0,d.Z)(this,n),(e=o.call(this)).state={currentTab:1,addonMetadata:{name:"",description:"",type:"",version:"",author:"",icon_url:"",screenshot_url:""},addonData:"",settingsClasses:{current:"toggle lightTheme",json:"toggle lightTheme"}},e}return(0,u.Z)(n,[{key:"changeTab",value:function(e,t){if(t)return this.setState({currentTab:e,addonMetadata:{type:t}});this.setState({currentTab:e})}},{key:"importSettings",value:function(e){var t=e||localStorage,a={};Object.keys(t).forEach((function(e){"statsData"!==e&&"firstRun"!==e&&"showWelcome"!==e&&"language"!==e&&"installed"!==e&&"stats"!==e&&"backup_settings"!==e&&"showReminder"!==e&&"experimental"!==e&&"debugtimeout"!==e&&"quotelanguage"!==e&&(a[e]=localStorage.getItem(e))})),this.setState({addonData:a,settingsClasses:{current:e?"toggle lightTheme active":"toggle lightTheme",json:e?"toggle lightTheme active":"toggle lightTheme"}}),(0,y.Am)(r.Z.language.getMessage(r.Z.languagecode,"toasts.imported"))}},{key:"updateQuotePackType",value:function(e){"quotePack"===e?this.setState({addonMetadata:{type:e,name:this.state.addonMetadata.name,description:this.state.addonMetadata.description,version:this.state.addonMetadata.version,author:this.state.addonMetadata.author,icon_url:this.state.addonMetadata.icon_url,screenshot_url:this.state.addonMetadata.screenshot_url,quotes:[]}}):this.setState({addonMetadata:{type:e,name:this.state.addonMetadata.name,description:this.state.addonMetadata.description,version:this.state.addonMetadata.version,author:this.state.addonMetadata.author,icon_url:this.state.addonMetadata.icon_url,screenshot_url:this.state.addonMetadata.screenshot_url},addonData:{url:"",name:"",author:""}})}},{key:"updateQuotePackAPI",value:function(e,t){this.setState({addonData:{url:"url"===e?t:this.state.addonData.url||"",name:"name"===e?t:this.state.addonData.name||"",author:"author"===e?t:this.state.addonData.author||""}})}},{key:"importQuotes",value:function(){this.setState({addonData:JSON.parse(localStorage.getItem("customQuote"))||[]}),(0,y.Am)(r.Z.language.getMessage(r.Z.languagecode,"toasts.imported"))}},{key:"importPhotos",value:function(){var e=[];try{e=(JSON.parse(localStorage.getItem("customBackground"))||[]).map((function(e){return{photographer:"???",location:"???",url:{default:e}}})),(0,y.Am)(r.Z.language.getMessage(r.Z.languagecode,"toasts.imported"))}catch(e){console.log(e),(0,y.Am)(r.Z.language.getMessage(r.Z.languagecode,"toasts.error"))}this.setState({addonData:e})}},{key:"downloadAddon",value:function(){(0,Y.yH)((0,g.Z)({name:this.state.addonMetadata.name,description:this.state.addonMetadata.description,type:"quote_api"===this.state.addonMetadata.type?"quotes":this.state.addonMetadata.type,version:this.state.addonMetadata.version,author:this.state.addonMetadata.author,icon_url:this.state.addonMetadata.icon_url,screenshot_url:this.state.addonMetadata.screenshot_url},this.state.addonMetadata.type,this.state.addonData),this.state.addonMetadata.name+".json")}},{key:"render",value:function(){var e,t=this,a=function(e){return r.Z.language.getMessage(r.Z.languagecode,e)},o=(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)("h3",{},void 0,a("modals.main.settings.sections.time.type")),(0,s.Z)("div",{className:"themesToggleArea"},void 0,(0,s.Z)("div",{className:"options"},void 0,(0,s.Z)("div",{className:"toggle lightTheme",onClick:function(){return t.changeTab(2,"photos")}},void 0,A||(A=(0,s.Z)(b.xEM,{})),(0,s.Z)("span",{},void 0,a("modals.main.marketplace.photo_packs"))),(0,s.Z)("div",{className:"toggle lightTheme",onClick:function(){return t.changeTab(2,"quotes")}},void 0,j||(j=(0,s.Z)(b.iXI,{})),(0,s.Z)("span",{},void 0,a("modals.main.marketplace.quote_packs"))),(0,s.Z)("div",{className:"toggle lightTheme",onClick:function(){return t.changeTab(2,"settings")}},void 0,O||(O=(0,s.Z)(b.b9P,{})),(0,s.Z)("span",{},void 0,a("modals.main.marketplace.preset_settings")))))]}),n=void 0===this.state.addonMetadata.name||void 0===this.state.addonMetadata.description||void 0===this.state.addonMetadata.version||void 0===this.state.addonMetadata.author||void 0===this.state.addonMetadata.icon_url||void 0===this.state.addonMetadata.screenshot_url,i=function(e,a){t.setState({addonMetadata:{name:"name"===a?e:t.state.addonMetadata.name,description:"description"===a?e:t.state.addonMetadata.description,version:"version"===a?e:t.state.addonMetadata.version,author:"author"===a?e:t.state.addonMetadata.author,icon_url:"icon_url"===a?e:t.state.addonMetadata.icon_url,screenshot_url:"screenshot_url"===a?e:t.state.addonMetadata.screenshot_url,type:t.state.addonMetadata.type}})},l=(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)("h3",{},void 0,a("modals.main.marketplace.product.information")),(0,s.Z)(X.Z,{label:a("modals.main.addons.create.metadata.name"),varient:"outlined",InputLabelProps:{shrink:!0},value:this.state.addonMetadata.name,onInput:function(e){return i(e.target.value,"name")}}),(0,s.Z)(X.Z,{label:a("modals.main.marketplace.product.version"),varient:"outlined",InputLabelProps:{shrink:!0},value:this.state.addonMetadata.version,onInput:function(e){return i(e.target.value,"version")}}),(0,s.Z)(X.Z,{label:a("modals.main.marketplace.product.author"),varient:"outlined",InputLabelProps:{shrink:!0},value:this.state.addonMetadata.author,onInput:function(e){return i(e.target.value,"author")}}),(0,s.Z)(X.Z,{label:a("modals.main.addons.create.metadata.icon_url"),varient:"outlined",InputLabelProps:{shrink:!0},value:this.state.addonMetadata.icon_url,onInput:function(e){return i(e.target.value,"icon_url")}}),(0,s.Z)(X.Z,{label:a("modals.main.addons.create.metadata.screenshot_url"),varient:"outlined",InputLabelProps:{shrink:!0},value:this.state.addonMetadata.screenshot_url,onInput:function(e){return i(e.target.value,"screenshot_url")}}),(0,s.Z)(X.Z,{label:a("modals.main.addons.create.metadata.description"),varient:"outlined",InputLabelProps:{shrink:!0},multiline:!0,spellCheck:!1,rows:4,value:this.state.addonMetadata.description,onInput:function(e){return i(e.target.value,"description")}}),D||(D=(0,s.Z)("br",{})),(0,s.Z)("button",{onClick:function(){return t.changeTab(1)},className:"uploadbg",style:{marginRight:"10px"}},void 0,a("modals.welcome.buttons.previous")),(0,s.Z)("button",{onClick:function(){return t.changeTab(t.state.addonMetadata.type)},className:"uploadbg",disabled:n},void 0,a("modals.welcome.buttons.next"))]}),d=""===this.state.addonData,u=(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)("h3",{},void 0,a("modals.welcome.sections.settings.title")),(0,s.Z)("div",{className:"themesToggleArea"},void 0,(0,s.Z)("div",{className:"options",style:{maxWidth:"512px"}},void 0,(0,s.Z)("div",{className:this.state.settingsClasses.current,onClick:function(){return t.importSettings()}},void 0,z||(z=(0,s.Z)(b.uKn,{})),(0,s.Z)("span",{},void 0,a("modals.main.addons.create.settings.current"))),(0,s.Z)("div",{className:this.state.settingsClasses.json,onClick:function(){return document.getElementById("file-input").click()}},void 0,B||(B=(0,s.Z)(b.Ap8,{})),(0,s.Z)("span",{},void 0,a("modals.main.addons.create.settings.json"))))),(0,s.Z)(F.Z,{id:"file-input",type:"settings",accept:"application/json",loadFunction:function(e){return t.importSettings(JSON.parse(e.target.result))}}),L||(L=(0,s.Z)("br",{})),E||(E=(0,s.Z)("br",{})),(0,s.Z)("button",{onClick:function(){return t.changeTab(2)},className:"uploadbg",style:{margin:"10px"}},void 0,a("modals.welcome.buttons.previous")),(0,s.Z)("button",{onClick:function(){return t.changeTab(3)},className:"uploadbg",style:{margin:"10px"},disabled:d},void 0,a("modals.welcome.buttons.next"))]}),c=!("quote_api"===this.state.addonMetadata.type&&""!==this.state.addonData.url&&""!==this.state.addonData.name&&""!==this.state.addonData.author||"quotes"===this.state.addonMetadata.type&&""!==this.state.addonData.quotes),m=(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)("h3",{},void 0,a("modals.main.addons.create.quotes.title")),(0,s.Z)(S.Z,{label:a("modals.main.settings.sections.time.type"),noSetting:!0,onChange:function(e){return t.updateQuotePackType(e)}},void 0,(0,s.Z)("option",{value:"quotes"},void 0,a("modals.main.addons.create.quotes.local.title")),(0,s.Z)("option",{value:"quote_api"},void 0,a("modals.main.addons.create.quotes.api.title"))),"quote_api"===this.state.addonMetadata.type?(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)(X.Z,{label:a("modals.main.addons.create.quotes.api.url"),varient:"outlined",InputLabelProps:{shrink:!0},value:this.state.addonData.url,onInput:function(e){return t.updateQuotePack(e.target.value,"url")}}),(0,s.Z)(X.Z,{label:a("modals.main.addons.create.quotes.api.name"),varient:"outlined",InputLabelProps:{shrink:!0},value:this.state.addonData.name,onInput:function(e){return t.updateQuotePack(e.target.value,"name")}}),(0,s.Z)(X.Z,{label:a("modals.main.addons.create.quotes.api.author"),varient:"outlined",InputLabelProps:{shrink:!0},value:this.state.addonData.author,onInput:function(e){return t.updateQuotePack(e.target.value,"author")}}),J||(J=(0,s.Z)("br",{})),Q||(Q=(0,s.Z)("br",{}))]}):(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)("div",{className:"themesToggleArea"},void 0,(0,s.Z)("div",{className:"options"},void 0,(0,s.Z)("div",{onClick:function(){return t.importQuotes()},className:"toggle lightTheme",style:{width:"60%",margin:"10px 0 10px 0"}},void 0,H||(H=(0,s.Z)(b.uKn,{})),(0,s.Z)("span",{},void 0,a("modals.main.addons.create.settings.current"))))),W||(W=(0,s.Z)("br",{}))]}),(0,s.Z)("button",{onClick:function(){return t.changeTab(2)},className:"uploadbg"},void 0,a("modals.welcome.buttons.previous")),(0,s.Z)("button",{onClick:function(){return t.changeTab(3)},className:"uploadbg",style:{margin:"10px"},disabled:c},void 0,a("modals.welcome.buttons.next"))]}),p=""===this.state.addonData.photos||this.state.addonData.photos===[],h=(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)("h3",{},void 0,a("modals.main.addons.create.photos.title")),(0,s.Z)("div",{className:"themesToggleArea"},void 0,(0,s.Z)("div",{className:"options"},void 0,(0,s.Z)("div",{onClick:function(){return t.importPhotos()},className:"toggle lightTheme",style:{width:"60%",margin:"10px 0 10px 0"}},void 0,$||($=(0,s.Z)(b.uKn,{})),(0,s.Z)("span",{},void 0,a("modals.main.addons.create.settings.current"))))),K||(K=(0,s.Z)("br",{})),(0,s.Z)("button",{onClick:function(){return t.changeTab(2)},className:"uploadbg"},void 0,a("modals.welcome.buttons.previous")),(0,s.Z)("button",{onClick:function(){return t.changeTab(3)},className:"uploadbg",style:{margin:"10px"},disabled:p},void 0,a("modals.welcome.buttons.next"))]}),g=(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)("div",{className:"themesToggleArea"},void 0,(0,s.Z)("div",{className:"options"},void 0,(0,s.Z)("div",{onClick:function(){return t.downloadAddon()},className:"toggle lightTheme",style:{width:"60%",margin:"10px 0 10px 0"}},void 0,U||(U=(0,s.Z)(b.uKn,{})),(0,s.Z)("span",{},void 0,a("modals.main.addons.create.finish.download"))))),V||(V=(0,s.Z)("br",{})),(0,s.Z)("button",{onClick:function(){return t.changeTab("quote_api"===t.state.addonMetadata.type?"quotes":t.state.addonMetadata.type)},className:"uploadbg",style:{marginRight:"10px"}},void 0,a("modals.welcome.buttons.previous"))]});switch(this.state.currentTab){case 2:e=l;break;case"settings":e=u;break;case"quotes":e=m;break;case"photos":e=h;break;case 3:e=g;break;default:e=o}return(0,_.jsxs)(_.Fragment,{children:[(0,s.Z)("h2",{},void 0,a("modals.main.addons.create.other_title")),e]})}}]),n}(Z.PureComponent);function ne(){var e=function(e){return r.Z.language.getMessage(r.Z.languagecode,e)};return(0,s.Z)(i.Z,{},void 0,(0,s.Z)("div",{label:e("modals.main.addons.added"),name:"added"},void 0,ee||(ee=(0,s.Z)(T,{}))),(0,s.Z)("div",{label:e("modals.main.addons.sideload.title"),name:"sideload"},void 0,te||(te=(0,s.Z)(G,{}))),(0,s.Z)("div",{label:e("modals.main.addons.create.title"),name:"create"},void 0,ae||(ae=(0,s.Z)(oe,{}))))}},3121:function(e,t,a){a.d(t,{Z:function(){return P}});var o=a(7692),n=a(1972),s=a(9526),r=a(3060),i=a(3957),l=a(3068),d=a(5911),u=a(9534),c=a(6750),m=a(3692),p=a(2474),h=a(8358),g=a(5267),v=a(2742),f=a(1704),Z=a(8623),b=a(9690),y=a(7402);function k(e){return(0,b.Z)("MuiFormHelperText",e)}var M,S=(0,y.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),N=a(7557);const _=["children","className","component","disabled","error","filled","focused","margin","required","variant"],I=(0,d.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.size&&t[`size${(0,Z.Z)(a.size)}`],a.contained&&t.contained,a.filled&&t.filled]}})((({theme:e,ownerState:t})=>(0,o.Z)({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${S.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${S.error}`]:{color:(e.vars||e).palette.error.main}},"small"===t.size&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})));var x=s.forwardRef((function(e,t){const a=(0,u.Z)({props:e,name:"MuiFormHelperText"}),{children:s,className:l,component:d="p"}=a,c=(0,n.Z)(a,_),m=(0,f.Z)(),p=(0,v.Z)({props:a,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),h=(0,o.Z)({},a,{component:d,contained:"filled"===p.variant||"outlined"===p.variant,variant:p.variant,size:p.size,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required}),g=(e=>{const{classes:t,contained:a,size:o,disabled:n,error:s,filled:r,focused:l,required:d}=e,u={root:["root",n&&"disabled",s&&"error",o&&`size${(0,Z.Z)(o)}`,a&&"contained",l&&"focused",r&&"filled",d&&"required"]};return(0,i.Z)(u,k,t)})(h);return(0,N.jsx)(I,(0,o.Z)({as:d,ownerState:h,className:(0,r.Z)(g.root,l),ref:t},c,{children:" "===s?M||(M=(0,N.jsx)("span",{className:"notranslate",children:"​"})):s}))})),w=a(9936);function T(e){return(0,b.Z)("MuiTextField",e)}(0,y.Z)("MuiTextField",["root"]);const q=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],C={standard:c.Z,filled:m.Z,outlined:p.Z},R=(0,d.ZP)(g.Z,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({});var P=s.forwardRef((function(e,t){const a=(0,u.Z)({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:d=!1,children:c,className:m,color:p="primary",defaultValue:g,disabled:v=!1,error:f=!1,FormHelperTextProps:Z,fullWidth:b=!1,helperText:y,id:k,InputLabelProps:M,inputProps:S,InputProps:_,inputRef:I,label:P,maxRows:F,minRows:A,multiline:j=!1,name:O,onBlur:D,onChange:z,onFocus:B,placeholder:L,required:E=!1,rows:J,select:Q=!1,SelectProps:H,type:W,value:$,variant:K="outlined"}=a,U=(0,n.Z)(a,q),V=(0,o.Z)({},a,{autoFocus:d,color:p,disabled:v,error:f,fullWidth:b,multiline:j,required:E,select:Q,variant:K}),G=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"]},T,t)})(V),X={};"outlined"===K&&(M&&void 0!==M.shrink&&(X.notched=M.shrink),X.label=P),Q&&(H&&H.native||(X.id=void 0),X["aria-describedby"]=void 0);const Y=(0,l.Z)(k),ee=y&&Y?`${Y}-helper-text`:void 0,te=P&&Y?`${Y}-label`:void 0,ae=C[K],oe=(0,N.jsx)(ae,(0,o.Z)({"aria-describedby":ee,autoComplete:s,autoFocus:d,defaultValue:g,fullWidth:b,multiline:j,name:O,rows:J,maxRows:F,minRows:A,type:W,value:$,id:Y,inputRef:I,onBlur:D,onChange:z,onFocus:B,placeholder:L,inputProps:S},X,_));return(0,N.jsxs)(R,(0,o.Z)({className:(0,r.Z)(G.root,m),disabled:v,error:f,fullWidth:b,ref:t,required:E,color:p,variant:K,ownerState:V},U,{children:[null!=P&&""!==P&&(0,N.jsx)(h.Z,(0,o.Z)({htmlFor:Y,id:te},M,{children:P})),Q?(0,N.jsx)(w.Z,(0,o.Z)({"aria-describedby":ee,id:Y,labelId:te,value:$,input:oe},H,{children:c})):oe,y&&(0,N.jsx)(x,(0,o.Z)({id:ee},Z,{children:y}))]}))}))}}]);